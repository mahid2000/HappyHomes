---
import '../styles/global.css';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const pageTitle = "Happy Homes";

// Local image slides for the carousel
const slides = [
  {
    src: '/images/civic-award-2025-group.JPG',
    alt: 'Welcome to Happy Homes',
    title: 'Welcome to Happy Homes',
    description: 'Empowering families with care, support, and community connection.',
  },
  {
    src: '/images/boardgames1.jpg',
    alt: 'Support That Matters',
    title: 'Support That Matters',
    description: 'Workshops and safe spaces for growth.',
  },
  {
    src: '/images/art-activ5.jpg',
    alt: 'Together We Rise',
    title: 'Together We Rise',
    description: 'Advocating for resilient families.',
  },
];
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{pageTitle}</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body class="text-gray-800 bg-orange-50">
    <Navigation client:load />

<!-- ✅ Hero Carousel with support for images & videos -->
<!-- ✅ Fullscreen Hero Carousel with videos -->
 
<section x-data="{ current: 0, slides: $el.querySelectorAll('.slide').length }" class="relative">
  <!-- Full-bleed carousel (slides use viewport width) -->
  <div class="overflow-hidden relative w-screen bg-orange-50" style="background-color: #fdba74;">
    <div
      class="flex transition-transform duration-700 ease-in-out"
      :style="`transform: translateX(-${current * 100}%); width: ${slides.length * 100}vw;`"
    >
      {slides.map((slide, index) => (
        <div class="w-screen flex-shrink-0 relative slide flex items-center justify-center bg-orange-50" role="group" aria-label={slide.alt} style="background-color: #fdba74;">
          <img src={slide.src} alt={slide.alt} class="w-full h-auto max-h-[70vh] object-contain z-0 mx-auto block" />

          <!-- Bottom-centered caption panel over image -->
          <div class="absolute inset-x-0 bottom-6 flex items-end justify-center z-20 pointer-events-none">
            <div class="text-black p-3 rounded-md backdrop-blur-sm max-w-xs md:max-w-2xl text-center pointer-events-auto mx-4" style="background-color: rgba(253,186,116,0.88);">
              <h1 class="text-base md:text-2xl font-bold mb-1">{slide.title}</h1>
              <p class="text-xs md:text-sm mb-0">{slide.description}</p>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Prev Button -->
    <button @click="current = (current - 1 + slides) % slides"
      class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-60 z-10">
      ‹
    </button>

    <!-- Next Button -->
    <button @click="current = (current + 1) % slides"
      class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-60 z-10">
      ›
    </button>

    <!-- Dots -->
    <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10">
      <template x-for="i in Array.from({length: slides}).keys()" :key="i">
        <button
          @click="current = i"
          :class="current === i ? 'bg-white' : 'bg-gray-400'"
          class="w-3 h-3 rounded-full"
        ></button>
      </template>
    </div>
  </div>
</section>


    <!-- ✅ Mission Section -->
    <section class="pb-4 pt-12 bg-orange-50" style="background-color: #fdba74;">
      <div class="container mx-auto px-4 grid md:grid-cols-2 gap-8 items-center bg-transparent" style="background-color: #fdba74;">
        <div>
          <h2 class="text-2xl font-semibold mb-4">Our Mission</h2>
          <p class="text-gray-700 mb-4">
            At Happy Homes Community, we provide families with the tools, resources, and training needed to build strong,
            resilient homes. Through community support and advocacy, we aim to create a space where every family can feel
            safe and empowered.
          </p>
          <p class="text-gray-700 mb-4">
            Our goals include fostering independence, enhancing well-being, and promoting a sense of belonging among families facing
            adversity. We aim to do this through workshops and forums raising awareness about socioeconomic challenges and local services available to tackle them.    
          </p>
        </div>
        <img src="/images/kids-activ7.jpg" alt="Families helping each other" class="rounded-xl shadow block bg-transparent" />
      </div>
    </section>

    <!-- ✅ Services Section -->
    <section class="pt-4 pb-12">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-2xl font-semibold mb-6">What We Offer</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <div class="bg-orange-300 p-6 rounded shadow">
            <img src="/images/boardgames1.jpg" alt="Workshops" class="mb-4 rounded h-72 w-full object-cove" />
            <h3 class="font-bold mb-2">Family Workshops</h3>
            <p>Empowering parents and children through practical skill-building and emotional support sessions.</p>
          </div>
          <div class="bg-orange-300 p-6 rounded shadow">
            <img src="/images/art-activ5.jpg" alt="Support Groups" class="mb-4 rounded h-72 w-full object-cove" />
            <h3 class="font-bold mb-2">Support Groups</h3>
            <p>Safe, welcoming spaces for families to connect, share, and grow together.</p>
          </div>
          <div class="bg-orange-300 p-6 rounded shadow">
            <img src="/images/civic-awards-Fozia.JPG" alt="Community Advocacy" class="mb-4 rounded h-72 w-full object-cove" />
            <h3 class="font-bold mb-2">Community Advocacy</h3>
            <p>We champion better resources and policies for families in need, amplifying their voices in the community.</p>
          </div>
        </div>
      </div>
    </section>

    <Footer client:load />
  </body>
</html>
